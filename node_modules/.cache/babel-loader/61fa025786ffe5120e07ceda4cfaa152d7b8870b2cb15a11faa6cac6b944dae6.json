{"ast":null,"code":"var _jsxFileName = \"/Users/thanhbinh/Downloads/Test Dev - DXM/test-dev/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { hashString } from 'react-hash-string';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n  let navigate = useNavigate();\n  const [username, setUserName] = useState('');\n  const [pass, setPass] = useState('');\n  useEffect(() => {\n    sessionStorage.clear();\n  }, []);\n  const log = e => {\n    e.preventDefault();\n    if (validate()) {\n      fetch(\"http://localhost:3000/db.json\").then(res => {\n        return res.json();\n      }).then(resp => {\n        if (Object.keys(resp).length === 0) {\n          alert('Saisir votre username');\n        } else {\n          if (resp.users.filter(u => u.login === username && u.password === pass).length > 0) {\n            sessionStorage.setItem(\"accessToken\", hashString(username));\n            navigate('/');\n          } else {\n            alert('Le login ou le mot de passe est incorrect');\n          }\n        }\n      }).catch(err => {\n        alert('Erreur !!!');\n      });\n    }\n  };\n  const validate = () => {\n    let result = true;\n    if (username === '' || username === null) {\n      result = false;\n      alert('Saisir votre username svp....');\n    }\n    if (pass === '' || pass === null) {\n      result = false;\n      alert('Saisir votre mot de passe svp...');\n    }\n    return result;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: log,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"account\",\n          children: \"ID ACCOUNT \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"account\",\n          value: username,\n          onChange: e => setUserName(e.target.value),\n          className: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"account\",\n          children: \"PASSWORD \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"pass\",\n          value: pass,\n          onChange: e => setPass(e.target.value),\n          className: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit\",\n          onClick: log,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel\",\n          navigate: \"/\",\n          value: \"cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"forget\",\n          href: \"\",\n          children: \"Forgot Password ???\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"AWHt8MiLPx2NH1GAw3dWtfQfs8I=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","useNavigate","hashString","Login","navigate","username","setUserName","pass","setPass","sessionStorage","clear","log","e","preventDefault","validate","fetch","then","res","json","resp","Object","keys","length","alert","users","filter","u","login","password","setItem","catch","err","result","target","value"],"sources":["/Users/thanhbinh/Downloads/Test Dev - DXM/test-dev/src/components/Login.js"],"sourcesContent":["import {useState , useEffect} from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { hashString } from 'react-hash-string'\n\n\nexport const Login=()=> {\n    let navigate = useNavigate();\n\n    const[username, setUserName] = useState('');\n    const[pass,setPass] = useState('');\n\n    useEffect(()=>{\n        sessionStorage.clear();\n            },[]);\n\n    const log =(e) =>{\n\n        e.preventDefault();\n\n        if(validate()){\n            fetch(\"http://localhost:3000/db.json\").then((res) => {\n                return res.json();\n            })\n            .then((resp) => {\n                \n               if (Object.keys(resp).length ===0){\n                   alert('Saisir votre username');\n               }else{\n                  if(resp.users.filter(u=>u.login === username && u.password === pass).length > 0){\n                       sessionStorage.setItem(\"accessToken\", hashString(username)); \n                       navigate('/')\n\n                        \n\n\n                   }else{\n                       alert('Le login ou le mot de passe est incorrect')   \n                   }\n               }   \n            })\n            .catch((err)=> {\n                alert('Erreur !!!')\n            })\n        }\n    }\n\n    const validate = () => {\n        let result = true;\n        \n        if (username === '' || username === null) {\n            result = false;\n            alert('Saisir votre username svp....');\n            \n\n        }\n        if (pass === '' || pass === null) {\n            result = false;\n            alert('Saisir votre mot de passe svp...');\n        }\n        return result;\n    }\n    \n    return (\n\n        <div className=\"container\">\n            <form onSubmit={log}> \n\n            <div>\n                <label className=\"account\">ID ACCOUNT </label>\n                <input type=\"text\" name=\"account\" value={username} onChange={e => setUserName(e.target.value)} className=\"info\"/>\n\n            </div>\n            \n            <div>\n                <label className=\"account\">PASSWORD </label>\n                <input type=\"password\" name=\"pass\" value={pass} onChange={e => setPass(e.target.value)} className=\"info\"/>\n\n            </div>\n               \n            <div className=\"btn1\">                  \n                <button className=\"submit\" onClick={log}>Log In</button>\n                                \n                <button className=\"cancel\" navigate=\"/\" value=\"cancel\">Cancel</button>\n                   \n            </div>\n            <div>\n                <a className = \"forget\" href=\"\">Forgot Password ???</a>           \n            </div>  \n               \n            </form>\n\n         </div>\n\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}