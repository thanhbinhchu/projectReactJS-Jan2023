{"ast":null,"code":"var _jsxFileName = \"/Users/thanhbinh/Downloads/Test Dev - DXM/test-dev/src/components/Login.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n  let navigate = useNavigate();\n  const [username, setUserName] = useState('');\n  const [pass, setPass] = useState('');\n  useEffect(() => {\n    sessionStorage.clear();\n  }, []);\n  const log = e => {\n    e.preventDefault();\n    console.log('hello');\n    if (validate()) {\n      fetch(\"http://localhost:3000/db.json\").then(res => {\n        return res.json();\n      }).then(resp => {\n        if (Object.keys(resp).length === 0) {\n          alert('Entrez votre username');\n        } else {\n          if (resp.users.filter(u => u.login === username && u.password === pass).length > 0) {\n            sessionStorage.setItem(\"accessToken\", response.data.token);\n            navigate('/pilote');\n          } else {\n            alert('il y a un erreur');\n          }\n        }\n      }).catch(err => {\n        alert('Error !!!');\n      });\n    }\n  };\n  const validate = () => {\n    let result = true;\n    if (username === '' || username === null) {\n      result = false;\n      toast.warning('Please Enter Username');\n      alert('abc');\n    }\n    if (pass === '' || pass === null) {\n      result = false;\n      toast.warning('Please Enter Password');\n    }\n    return result;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: log,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"account\",\n          children: \"ID ACCOUNT \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"account\",\n          value: username,\n          onChange: e => setUserName(e.target.value),\n          className: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"account\",\n          children: \"PASSWORD \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"pass\",\n          value: pass,\n          onChange: e => setPass(e.target.value),\n          className: \"info\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn1\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"submit\",\n          onClick: log,\n          children: \"Log In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cancel\",\n          navigate: \"/\",\n          value: \"cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"forget\",\n          href: \"\",\n          children: \"Forgot Password ???\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"AWHt8MiLPx2NH1GAw3dWtfQfs8I=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","useNavigate","Login","navigate","username","setUserName","pass","setPass","sessionStorage","clear","log","e","preventDefault","console","validate","fetch","then","res","json","resp","Object","keys","length","alert","users","filter","u","login","password","setItem","response","data","token","catch","err","result","toast","warning","target","value"],"sources":["/Users/thanhbinh/Downloads/Test Dev - DXM/test-dev/src/components/Login.js"],"sourcesContent":["import {useState , useEffect} from 'react'\n\nimport { useNavigate } from 'react-router-dom';\n\n\nexport const Login=()=> {\n    let navigate = useNavigate();\n\n    const[username, setUserName] = useState('');\n    const[pass,setPass] = useState('');\n\n    useEffect(()=>{\n        sessionStorage.clear();\n            },[]);\n\n\n    const log =(e) =>{\n\n        e.preventDefault();\n        console.log('hello')\n\n        if(validate()){\n            fetch(\"http://localhost:3000/db.json\").then((res) => {\n                return res.json();\n\n            })\n            .then((resp) => {\n                \n               if (Object.keys(resp).length ===0){\n                   alert('Entrez votre username');\n               }else{\n                  \n\n                   if(resp.users.filter(u=>u.login === username && u.password === pass).length > 0){\n\n                       sessionStorage.setItem(\"accessToken\", response.data.token); \n                       navigate('/pilote')\n\n                   }else{\n                       alert('il y a un erreur')\n                       \n                   }\n               }   \n            })\n            .catch((err)=> {\n                alert('Error !!!')\n            })\n        }\n    }\n\n\n\n    const validate = () => {\n        let result = true;\n        \n        if (username === '' || username === null) {\n            result = false;\n            toast.warning('Please Enter Username');\n            alert('abc')\n\n        }\n        if (pass === '' || pass === null) {\n            result = false;\n            toast.warning('Please Enter Password');\n        }\n        return result;\n    }\n    \n        \n\n\n    return (\n\n\n       \n        <div className=\"container\">\n            <form onSubmit={log}> \n\n            <div>\n                <label className=\"account\">ID ACCOUNT </label>\n                <input type=\"text\" name=\"account\" value={username} onChange={e => setUserName(e.target.value)} className=\"info\"/>\n\n            </div>\n            \n            <div>\n                <label className=\"account\">PASSWORD </label>\n                <input type=\"password\" name=\"pass\" value={pass} onChange={e => setPass(e.target.value)} className=\"info\"/>\n\n            </div>\n               \n            <div className=\"btn1\">\n                    \n                <button className=\"submit\" onClick={log}>Log In</button>\n                    \n                <button className=\"cancel\" navigate=\"/\" value=\"cancel\">Cancel</button>\n                   \n            </div>\n\n            <div>\n                <a className = \"forget\" href=\"\">Forgot Password ???</a>\n            \n            </div>  \n            \n                \n            </form>\n\n         </div>\n\n\n\n\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}